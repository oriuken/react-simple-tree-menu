(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{331:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(117);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(771)),_toConsumableArray2=_interopRequireDefault(__webpack_require__(334)),_objectSpread2=_interopRequireDefault(__webpack_require__(203)),_objectWithoutProperties2=_interopRequireDefault(__webpack_require__(335)),_isEmpty2=_interopRequireDefault(__webpack_require__(763)),_fastMemoize=_interopRequireDefault(__webpack_require__(764)),validateData=function validateData(data){return!!data&&!(0,_isEmpty2.default)(data)},getValidatedData=function getValidatedData(data){return validateData(data)?data:[]},walk=function walk(_ref){var data=_ref.data,props=(0,_objectWithoutProperties2.default)(_ref,["data"]),validatedData=getValidatedData(data),propsWithDefaultValues=(0,_objectSpread2.default)({parent:"",level:0},props);return Array.isArray(validatedData)?function handleArray(dataAsArray){return dataAsArray.reduce(function(all,node,index){var branchProps=(0,_objectSpread2.default)({node:node,index:index,nodeName:node.key},propsWithDefaultValues),branch=generateBranch(branchProps);return[].concat((0,_toConsumableArray2.default)(all),(0,_toConsumableArray2.default)(branch))},[])}(validatedData):function handleObject(dataAsObject){return Object.entries(dataAsObject).sort(function(a,b){return a[1].index-b[1].index}).reduce(function(all,_ref2){var _ref3=(0,_slicedToArray2.default)(_ref2,2),nodeName=_ref3[0],node=_ref3[1],branchProps=(0,_objectSpread2.default)({node:node,nodeName:nodeName},propsWithDefaultValues),branch=generateBranch(branchProps);return[].concat((0,_toConsumableArray2.default)(all),(0,_toConsumableArray2.default)(branch))},[])}(validatedData)},defaultMatchSearch=function defaultMatchSearch(_ref4){var label=_ref4.label,searchTerm=_ref4.searchTerm,processString=function processString(text){return text.trim().toLowerCase()};return processString(label).includes(processString(searchTerm))},defaultLocale=function defaultLocale(_ref5){return _ref5.label},generateBranch=function generateBranch(_ref6){var node=_ref6.node,nodeName=_ref6.nodeName,_ref6$matchSearch=_ref6.matchSearch,matchSearch=void 0===_ref6$matchSearch?defaultMatchSearch:_ref6$matchSearch,_ref6$locale=_ref6.locale,locale=void 0===_ref6$locale?defaultLocale:_ref6$locale,props=(0,_objectWithoutProperties2.default)(_ref6,["node","nodeName","matchSearch","locale"]),parent=props.parent,level=props.level,openNodes=props.openNodes,searchTerm=props.searchTerm,nodes=node.nodes,_node$label=node.label,rawLabel=void 0===_node$label?"unknown":_node$label,nodeProps=(0,_objectWithoutProperties2.default)(node,["nodes","label"]),key=[parent,nodeName].filter(function(x){return x}).join("/"),hasNodes=validateData(nodes),isOpen=hasNodes&&(openNodes.includes(key)||!!searchTerm),label=locale((0,_objectSpread2.default)({label:rawLabel},nodeProps)),isVisible=!searchTerm||matchSearch((0,_objectSpread2.default)({label:label,searchTerm:searchTerm},nodeProps)),currentItem=(0,_objectSpread2.default)({},props,nodeProps,{label:label,hasNodes:hasNodes,isOpen:isOpen,key:key}),data=getValidatedData(nodes),nextLevelItems=isOpen?walk((0,_objectSpread2.default)({data:data,locale:locale,matchSearch:matchSearch},props,{parent:key,level:level+1})):[];return isVisible?[currentItem].concat((0,_toConsumableArray2.default)(nextLevelItems)):nextLevelItems},_default=(0,_fastMemoize.default)(walk);exports.default=_default},332:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(117);Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultChildren=exports.ItemComponent=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(203)),_react=_interopRequireDefault(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(79)),ToggleIcon=function ToggleIcon(_ref){var on=_ref.on;return _react.default.createElement("div",{role:"img","aria-label":"Toggle",className:"toggle-icon-symbol"},on?"-":"+")},ItemComponent=function ItemComponent(_ref2){var _ref2$hasNodes=_ref2.hasNodes,hasNodes=void 0!==_ref2$hasNodes&&_ref2$hasNodes,_ref2$isOpen=_ref2.isOpen,isOpen=void 0!==_ref2$isOpen&&_ref2$isOpen,_ref2$level=_ref2.level,level=void 0===_ref2$level?0:_ref2$level,onClick=_ref2.onClick,toggleNode=_ref2.toggleNode,active=_ref2.active,focused=_ref2.focused,key=_ref2.key,_ref2$label=_ref2.label,label=void 0===_ref2$label?"unknown":_ref2$label,_ref2$style=_ref2.style,style=void 0===_ref2$style?{}:_ref2$style;return _react.default.createElement("li",{className:(0,_classnames.default)("tree-item",{"tree-item--active":active},{"tree-item--focused":focused}),style:(0,_objectSpread2.default)({paddingLeft:"".concat(.75+2*(hasNodes?0:1)+1.75*level,"rem")},style),role:"button","aria-pressed":active,key:key,onClick:onClick},hasNodes&&_react.default.createElement("div",{className:"toggle-icon",onClick:function onClick(e){hasNodes&&toggleNode&&toggleNode(),e.stopPropagation()}},_react.default.createElement(ToggleIcon,{on:isOpen})),label)};exports.ItemComponent=ItemComponent;exports.defaultChildren=function defaultChildren(_ref3){var search=_ref3.search,items=_ref3.items;return _react.default.createElement(_react.default.Fragment,null,search&&_react.default.createElement("input",{className:"search","aria-label":"Type and search",type:"search",placeholder:"Type and search",onChange:function onSearch(e){var value=e.target.value;search&&search(value)}}),_react.default.createElement("ul",{className:"tree-item-group"},items.map(function(props){return _react.default.createElement(ItemComponent,props)})))}},333:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(117);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(0)),_default=function KeyDown(_ref){var children=_ref.children,up=_ref.up,down=_ref.down,left=_ref.left,right=_ref.right,enter=_ref.enter;return _react.default.createElement("div",{tabIndex:0,onKeyDown:function onKeyDown(e){switch(e.key){case"ArrowUp":up();break;case"ArrowDown":down();break;case"ArrowLeft":left();break;case"ArrowRight":right();break;case"Enter":enter()}}},children)};exports.default=_default},346:function(module,exports,__webpack_require__){__webpack_require__(347),__webpack_require__(450),module.exports=__webpack_require__(451)},451:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(21),__webpack_require__(12),__webpack_require__(10),__webpack_require__(22),__webpack_require__(15);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(153),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(52),req=__webpack_require__(612);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.configureActions)({depth:100,limit:20})}.call(this,__webpack_require__(170)(module))},612:function(module,exports,__webpack_require__){var map={"./index.stories.js":613};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=612},613:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(7),__webpack_require__(14),__webpack_require__(20),__webpack_require__(28),__webpack_require__(26),__webpack_require__(12),__webpack_require__(34),__webpack_require__(6),__webpack_require__(76),__webpack_require__(1),__webpack_require__(77),__webpack_require__(8),__webpack_require__(78),__webpack_require__(10),__webpack_require__(37),__webpack_require__(16),__webpack_require__(134),__webpack_require__(15);var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__),_storybook_react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(153),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(52),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_22__=(__webpack_require__(614),__webpack_require__(336)),reactstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(777),reactstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(778),reactstrap__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(779),_src_index__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(63),_src_index__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_src_index__WEBPACK_IMPORTED_MODULE_26__);__webpack_require__(765),__webpack_require__(767);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ToggleIcon=function(_ref){var on=_ref.on;return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("span",{style:{marginRight:8}},on?"-":"+")};ToggleIcon.displayName="ToggleIcon";var ListItem=function(_ref2){var _ref2$level=_ref2.level,level=void 0===_ref2$level?0:_ref2$level,hasNodes=_ref2.hasNodes,isOpen=_ref2.isOpen,label=_ref2.label,toggleNode=(_ref2.searchTerm,_ref2.openNodes,_ref2.toggleNode),focused=(_ref2.matchSearch,_ref2.focused),props=_objectWithoutProperties(_ref2,["level","hasNodes","isOpen","label","searchTerm","openNodes","toggleNode","matchSearch","focused"]);return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,_extends({},props,{style:{paddingLeft:24+16*level,cursor:"pointer",boxShadow:focused?"0px 0px 5px 0px #222":"none",zIndex:focused?999:"unset",position:"relative"}}),hasNodes&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div",{style:{display:"inline-block"},onClick:function onClick(e){hasNodes&&toggleNode&&toggleNode(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(ToggleIcon,{on:isOpen})),label)};ListItem.displayName="ListItem";var dataInArray=[{key:"mammal",label:"Mammal",url:"https://www.google.com/search?q=mammal",nodes:[{key:"canidae",label:"Canidae",url:"https://www.google.com/search?q=canidae",nodes:[{key:"dog",label:"Dog",url:"https://www.google.com/search?q=dog",nodes:[]},{key:"fox",label:"Fox",url:"https://www.google.com/search?q=fox",nodes:[]},{key:"wolf",label:"Wolf",url:"https://www.google.com/search?q=wolf",nodes:[]}]}]},{key:"reptile",label:"Reptile",url:"https://www.google.com/search?q=reptile",nodes:[{key:"squamata",label:"Squamata",url:"https://www.google.com/search?q=squamata",nodes:[{key:"lizard",label:"Lizard",url:"https://www.google.com/search?q=lizard"},{key:"snake",label:"Snake",url:"https://www.google.com/search?q=snake"},{key:"gekko",label:"Gekko",url:"https://www.google.com/search?q=gekko"}]}]}],translations={Mammal:"Mamífero",Canidae:"Canidae",Dog:"Perro",Fox:"Zorro",Wolf:"Lobo",Reptile:"Reptil",Squamata:"Squamata",Lizard:"Lagartija",Snake:"Serpiente",Gekko:"Gekko"};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_19__.storiesOf)("TreeMenu",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_22__.withInfo).add("default usage",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node")})}).add("without search",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node"),hasSearch:!1})}).add("has initial states",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node"),initialOpenNodes:["reptile","reptile/squamata","reptile/squamata/lizard"],initialActiveKey:"reptile"})}).add("control TreeMenu from its parent",function(){var TreeMenuWrapper=function(_React$Component){function TreeMenuWrapper(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TreeMenuWrapper);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(TreeMenuWrapper)).call.apply(_getPrototypeOf2,[this].concat(args))),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this),"state",{openNodes:[]}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TreeMenuWrapper,react__WEBPACK_IMPORTED_MODULE_18___default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TreeMenuWrapper,[{key:"render",value:function render(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_18___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div",{style:{padding:"12px",background:"black"}},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this2.setState({openNodes:["reptile"],activeKey:"reptile"})}},"Open Reptile"),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this2.setState({openNodes:["mammal"],activeKey:"mammal"})}},"Open Mammal"),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this2.setState({openNodes:["mammal","mammal/canidae"],activeKey:"mammal/canidae/dog"})}},"Highlight Dog")),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,activeKey:this.state.activeKey,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node"),openNodes:this.state.openNodes}))}}]),TreeMenuWrapper}();return TreeMenuWrapper.displayName="TreeMenuWrapper",react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(TreeMenuWrapper,null)}).add("translate to Spanish",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node"),locale:function locale(_ref3){var label=_ref3.label;return console.log("label: "+label),console.log(translations[label]),translations[label]}})}).add("apply other UI framework, e.g. bootstrap",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,debounceTime:125,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node")},function(_ref4){var search=_ref4.search,items=_ref4.items;return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_18___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,{onChange:function onChange(e){return search(e.target.value)},placeholder:"Type and search"}),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_25__.a,null,items.map(function(_ref5){_ref5.reset;var props=_objectWithoutProperties(_ref5,["reset"]);return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(ListItem,props)})))})}).add("reset openNodes",function(){return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_26___default.a,{data:dataInArray,debounceTime:125,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_20__.action)("on click node")},function(_ref6){var search=_ref6.search,items=_ref6.items,reset=_ref6.reset;return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_18___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("button",{onClick:function onClick(){reset(["reptile"])}},"Reset"),Object(_src_index__WEBPACK_IMPORTED_MODULE_26__.defaultChildren)({search:search,items:items}))})})}.call(this,__webpack_require__(170)(module))},618:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":290,"./nestedObjectAssign.js":290};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=618},63:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(117),_interopRequireWildcard=__webpack_require__(758);Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"TreeMenuProps",{enumerable:!0,get:function get(){return _TreeMenu.TreeMenuProps}}),Object.defineProperty(exports,"defaultChildren",{enumerable:!0,get:function get(){return _renderProps.defaultChildren}}),Object.defineProperty(exports,"ItemComponent",{enumerable:!0,get:function get(){return _renderProps.ItemComponent}}),Object.defineProperty(exports,"TreeMenuItem",{enumerable:!0,get:function get(){return _renderProps.TreeMenuItem}}),Object.defineProperty(exports,"TreeMenuChildren",{enumerable:!0,get:function get(){return _renderProps.TreeMenuChildren}}),Object.defineProperty(exports,"TreeNodeObject",{enumerable:!0,get:function get(){return _walk.TreeNodeObject}}),Object.defineProperty(exports,"TreeNode",{enumerable:!0,get:function get(){return _walk.TreeNode}}),Object.defineProperty(exports,"TreeNodeInArray",{enumerable:!0,get:function get(){return _walk.TreeNodeInArray}}),Object.defineProperty(exports,"LocaleFunction",{enumerable:!0,get:function get(){return _walk.LocaleFunction}}),Object.defineProperty(exports,"MatchSearchFunction",{enumerable:!0,get:function get(){return _walk.MatchSearchFunction}}),Object.defineProperty(exports,"Item",{enumerable:!0,get:function get(){return _walk.Item}}),Object.defineProperty(exports,"KeyDown",{enumerable:!0,get:function get(){return _KeyDown.default}}),exports.default=void 0;var _TreeMenu=_interopRequireWildcard(__webpack_require__(759)),_renderProps=__webpack_require__(332),_walk=__webpack_require__(331),_KeyDown=_interopRequireDefault(__webpack_require__(333)),_default=_TreeMenu.default;exports.default=_default},759:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(117);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(335)),_objectSpread2=_interopRequireDefault(__webpack_require__(203)),_toConsumableArray2=_interopRequireDefault(__webpack_require__(334)),_debounce2=_interopRequireDefault(__webpack_require__(283)),_classCallCheck2=_interopRequireDefault(__webpack_require__(760)),_createClass2=_interopRequireDefault(__webpack_require__(761)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(772)),_getPrototypeOf3=_interopRequireDefault(__webpack_require__(762)),_inherits2=_interopRequireDefault(__webpack_require__(776)),_react=_interopRequireDefault(__webpack_require__(0)),_walk=_interopRequireDefault(__webpack_require__(331)),_renderProps=__webpack_require__(332),_KeyDown=_interopRequireDefault(__webpack_require__(333)),TreeMenu=function(_React$Component){function TreeMenu(){var _getPrototypeOf2,_this;(0,_classCallCheck2.default)(this,TreeMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(TreeMenu)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={openNodes:_this.props.initialOpenNodes||[],searchTerm:"",activeKey:_this.props.initialActiveKey||"",focusKey:_this.props.initialFocusKey||""},_this.reset=function(newOpenNodes){var initialOpenNodes=_this.props.initialOpenNodes,openNodes=Array.isArray(newOpenNodes)&&newOpenNodes||initialOpenNodes||[];_this.setState({openNodes:openNodes,searchTerm:""})},_this.search=function(value){var debounceTime=_this.props.debounceTime;(0,_debounce2.default)(function(searchTerm){return _this.setState({searchTerm:searchTerm})},debounceTime)(value)},_this.toggleNode=function(node){if(!_this.props.openNodes){var openNodes=_this.state.openNodes,newOpenNodes=openNodes.includes(node)?openNodes.filter(function(openNode){return openNode!==node}):[].concat((0,_toConsumableArray2.default)(openNodes),[node]);_this.setState({openNodes:newOpenNodes})}},_this.generateItems=function(){var _this$props=_this.props,data=_this$props.data,onClickItem=_this$props.onClickItem,locale=_this$props.locale,matchSearch=_this$props.matchSearch,searchTerm=_this.state.searchTerm,openNodes=_this.props.openNodes||_this.state.openNodes,activeKey=_this.props.activeKey||_this.state.activeKey,focusKey=_this.props.focusKey||_this.state.focusKey;return(data?(0,_walk.default)({data:data,openNodes:openNodes,searchTerm:searchTerm,locale:locale,matchSearch:matchSearch}):[]).map(function(item){var focused=item.key===focusKey,active=item.key===activeKey,toggleNode=item.hasNodes?function(){return _this.toggleNode(item.key)}:void 0;return(0,_objectSpread2.default)({},item,{focused:focused,active:active,onClick:function onClick(){var newActiveKey=_this.props.activeKey||item.key;_this.setState({activeKey:newActiveKey,focusKey:newActiveKey}),onClickItem&&onClickItem(item)},toggleNode:toggleNode})})},_this.getKeyDownProps=function(items){var onClickItem=_this.props.onClickItem,_this$state=_this.state,focusKey=_this$state.focusKey,activeKey=_this$state.activeKey,focusIndex=(_this$state.searchTerm,items.findIndex(function(item){return item.key===(focusKey||activeKey)})),getFocusKey=function getFocusKey(item){var keyArray=item.key.split("/");return keyArray.length>1?keyArray.slice(0,keyArray.length-1).join("/"):item.key};return{up:function up(){_this.setState(function(_ref){var focusKey=_ref.focusKey;return{focusKey:focusIndex>0?items[focusIndex-1].key:focusKey}})},down:function down(){_this.setState(function(_ref2){var focusKey=_ref2.focusKey;return{focusKey:focusIndex<items.length-1?items[focusIndex+1].key:focusKey}})},left:function left(){_this.setState(function(_ref3){var openNodes=_ref3.openNodes,rest=(0,_objectWithoutProperties2.default)(_ref3,["openNodes"]),item=items[focusIndex],newOpenNodes=openNodes.filter(function(node){return node!==item.key});return item.isOpen?(0,_objectSpread2.default)({},rest,{openNodes:newOpenNodes,focusKey:item.key}):(0,_objectSpread2.default)({},rest,{focusKey:getFocusKey(item)})})},right:function right(){var _items$focusIndex=items[focusIndex],hasNodes=_items$focusIndex.hasNodes,key=_items$focusIndex.key;hasNodes&&_this.setState(function(_ref4){var openNodes=_ref4.openNodes;return{openNodes:[].concat((0,_toConsumableArray2.default)(openNodes),[key])}})},enter:function enter(){_this.setState(function(_ref5){return{activeKey:_ref5.focusKey}}),onClickItem&&onClickItem(items[focusIndex])}}},_this}return(0,_inherits2.default)(TreeMenu,_React$Component),(0,_createClass2.default)(TreeMenu,[{key:"render",value:function render(){var _this$props2=this.props,children=_this$props2.children,hasSearch=_this$props2.hasSearch,searchTerm=this.state.searchTerm,items=this.generateItems(),renderedChildren=children||_renderProps.defaultChildren,keyDownProps=this.getKeyDownProps(items);return _react.default.createElement(_KeyDown.default,keyDownProps,renderedChildren(hasSearch?{search:this.search,items:items,reset:this.reset,searchTerm:searchTerm}:{items:items,reset:this.reset}))}}]),TreeMenu}(_react.default.Component);TreeMenu.defaultProps={data:{},onClickItem:function defaultOnClick(props){return console.log(props)},debounceTime:125,children:_renderProps.defaultChildren,hasSearch:!0};var _default=TreeMenu;exports.default=_default},767:function(module,exports,__webpack_require__){var content=__webpack_require__(768);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(202)(content,options);content.locals&&(module.exports=content.locals)},768:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(769)(!1)).push([module.i,".toggle-icon {\n  display: inline-block; }\n  .toggle-icon-symbol {\n    width: 2rem;\n    height: 2rem;\n    text-align: center;\n    line-height: 2rem; }\n\n.tree-item-group {\n  list-style-type: none;\n  padding-left: 0;\n  border-top: 1px solid #ccc; }\n\n.tree-item {\n  padding: 0.75rem 1rem;\n  cursor: pointer;\n  color: #333;\n  background: none;\n  border-bottom: 1px solid #ccc;\n  box-shadow: none;\n  z-index: unset;\n  position: relative; }\n  .tree-item--active {\n    color: white;\n    background: #179ed3;\n    border-bottom: none; }\n  .tree-item--focused {\n    box-shadow: 0 0 5px 0 #222;\n    z-index: 999; }\n\n.search {\n  padding: 1rem 1.5rem;\n  border: none;\n  width: 100%; }\n",""])}},[[346,1,2]]]);
//# sourceMappingURL=main.3e77d1f2d4b2ebc0a537.bundle.js.map